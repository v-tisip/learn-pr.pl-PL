<span data-ttu-id="118d6-101">Projektując aplikację, która wymaga przechowywania danych, należy zastanowić się, jak aplikacja będzie organizować i przechowywać dane na kontach magazynu, w kontenerach i w obiektach blob.</span><span class="sxs-lookup"><span data-stu-id="118d6-101">When designing an app that needs to store data, it's important to think about how the app is going to organize and store data across storage accounts, containers, and blobs.</span></span>

## <a name="storage-accounts"></a><span data-ttu-id="118d6-102">Konta magazynu</span><span class="sxs-lookup"><span data-stu-id="118d6-102">Storage accounts</span></span>

<span data-ttu-id="118d6-103">Pojedyncze konto magazynu jest na tyle elastyczne, że umożliwia organizowanie obiektów blob w dowolny sposób, należy jednak korzystać z dodatkowych kont magazynu zgodnie z potrzebami, aby logicznie rozdzielić koszty i kontrolować dostęp do danych.</span><span class="sxs-lookup"><span data-stu-id="118d6-103">A single storage account is flexible enough to organize your blobs however you like, but you should use additional storage accounts as necessary to logically separate costs and control access to data.</span></span>

## <a name="containers-and-blobs"></a><span data-ttu-id="118d6-104">Kontenery i obiekty blob</span><span class="sxs-lookup"><span data-stu-id="118d6-104">Containers and blobs</span></span>

<span data-ttu-id="118d6-105">Podczas nazywania i organizowania kontenerów i obiektów blob należy kierować się rodzajem aplikacji i przechowywanymi przez nią danymi.</span><span class="sxs-lookup"><span data-stu-id="118d6-105">The nature of your application and the data that it stores should drive your strategy for naming and organizing containers and blobs.</span></span>

<span data-ttu-id="118d6-106">W aplikacjach używających obiektów blob w ramach schematu magazynu, który zawiera bazę danych, często nie trzeba posługiwać się organizacją, nazewnictwem czy metadanymi, aby wskazać, z jakiego rodzaju danymi mamy do czynienia.</span><span class="sxs-lookup"><span data-stu-id="118d6-106">Apps using blobs as part of a storage scheme that includes a database often don't need to rely heavily on organization, naming, or metadata to indicate anything about their data.</span></span> <span data-ttu-id="118d6-107">W takich aplikacjach nazwami obiektów blob często są identyfikatory (np. GUID), do których aplikacja odwołuje się w rekordach bazy danych.</span><span class="sxs-lookup"><span data-stu-id="118d6-107">Such apps commonly use identifiers like GUIDs as blob names and reference these identifiers in database records.</span></span> <span data-ttu-id="118d6-108">Aplikacja będzie określać, gdzie są przechowywane obiekty blob i jakiego rodzaju dane one zawierają, przy użyciu bazy danych.</span><span class="sxs-lookup"><span data-stu-id="118d6-108">The app will use the database to determine where blobs are stored and the kind of data they contain.</span></span>

<span data-ttu-id="118d6-109">Inne aplikacje mogą używać usługi Azure Blob Storage jako osobistego systemu plików, w którym nazwy kontenerów i obiektów blob wskazują znaczenie i strukturę.</span><span class="sxs-lookup"><span data-stu-id="118d6-109">Other apps may use Azure Blob storage more like a personal file system, where container and blob names are used to indicate meaning and structure.</span></span> <span data-ttu-id="118d6-110">Nazwy obiektów blob w takich aplikacjach często wyglądają jak tradycyjne nazwy plików i zawierają rozszerzenia nazw plików, takie jak `.jpg`, aby wskazać, jakiego rodzaju dane zawierają.</span><span class="sxs-lookup"><span data-stu-id="118d6-110">Blob names in these kinds of apps will often look like traditional file names and include file name extensions like `.jpg` to indicate what kind of data they contain.</span></span> <span data-ttu-id="118d6-111">Do organizowania obiektów blob są w nich używane katalogi wirtualne (patrz poniżej), a informacje o obiektach blob i kontenerach często są przechowywane za pomocą metadanych.</span><span class="sxs-lookup"><span data-stu-id="118d6-111">They'll use virtual directories (see below) to organize blobs and will frequently use metadata tags to store information about blobs and containers.</span></span>

<span data-ttu-id="118d6-112">Podejmując decyzję dotyczącą sposobu organizacji i przechowywania obiektów blob i kontenerów, warto rozważyć kilka kwestii.</span><span class="sxs-lookup"><span data-stu-id="118d6-112">There are a few key things to consider when deciding how to organize and store blobs and containers.</span></span>

### <a name="naming-limitations"></a><span data-ttu-id="118d6-113">Ograniczenia nazewnictwa</span><span class="sxs-lookup"><span data-stu-id="118d6-113">Naming limitations</span></span>

<span data-ttu-id="118d6-114">Nazwy kontenerów i obiektów blob muszą być zgodne z zestawem reguł, które ograniczają długość nazwy i określają dozwolone znaki.</span><span class="sxs-lookup"><span data-stu-id="118d6-114">Container and blob names must conform to a set of rules, including length limitations and character restrictions.</span></span> <span data-ttu-id="118d6-115">Sekcja Dodatkowe zasoby na końcu tego modułu zawiera bardziej szczegółowe informacje na temat reguł nazewnictwa.</span><span class="sxs-lookup"><span data-stu-id="118d6-115">See the Additional Resources section at the end of this module for more specific information about naming rules.</span></span>

### <a name="public-access-and-containers-as-security-boundaries"></a><span data-ttu-id="118d6-116">Dostęp publiczny i kontenery jako granice zabezpieczeń</span><span class="sxs-lookup"><span data-stu-id="118d6-116">Public access and containers as security boundaries</span></span>

<span data-ttu-id="118d6-117">Domyślnie, aby uzyskać dostęp do jakiegokolwiek obiektu blob, wymagane jest uwierzytelnienie.</span><span class="sxs-lookup"><span data-stu-id="118d6-117">By default, all blobs require authentication to access.</span></span> <span data-ttu-id="118d6-118">Jednak poszczególne kontenery można skonfigurować tak, aby zezwolić na publiczne pobieranie ich obiektów blob bez uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="118d6-118">However, individual containers can be configured to allow public downloading of their blobs without authentication.</span></span> <span data-ttu-id="118d6-119">Ta funkcja obsługuje wiele zastosowań, takich jak udostępnianie plików czy hostowanie zasobów statycznej witryny internetowej.</span><span class="sxs-lookup"><span data-stu-id="118d6-119">This feature supports many use cases, such as hosting static website assets and sharing files.</span></span> <span data-ttu-id="118d6-120">Jest to spowodowane tym, że pobieranie zawartości obiektów blob działa tak samo, jak odczytywanie każdego innego typu danych w Internecie: wystarczy wskazać w przeglądarce lub w innym narzędziu, które potrafi zgłaszać żądania GET, adres URL obiektu blob.</span><span class="sxs-lookup"><span data-stu-id="118d6-120">This is because downloading blob contents works the same way as reading any other kind of data over the web: you just point a browser or anything that can make a GET request at the blob URL.</span></span>

<span data-ttu-id="118d6-121">**Obrazu publicznego kontenera TODO, przedstawiający adres URL dostępu bezpośredniego**</span><span class="sxs-lookup"><span data-stu-id="118d6-121">**TODO public container image, showing direct access URL**</span></span>

<span data-ttu-id="118d6-122">Włączenie dostępu publicznego jest ważne w przypadku skalowalności, ponieważ dane pobierane bezpośrednio z magazynu obiektów blob nie generują żadnego ruchu w aplikacji po stronie serwera.</span><span class="sxs-lookup"><span data-stu-id="118d6-122">Enabling public access is important for scalability because data downloaded directly from Blob storage doesn't generate any traffic in your server-side app.</span></span> <span data-ttu-id="118d6-123">Nawet jeśli nie od razu chcesz korzystać z dostępu publicznego lub jeśli będziesz używać bazy danych, aby kontrolować dostęp do danych za pośrednictwem aplikacji, zaplanuj oddzielne kontenery dla danych, które mają być dostępne publicznie.</span><span class="sxs-lookup"><span data-stu-id="118d6-123">Even if you don't immediately take advantage of public access or if you will use a database to control data access via your application, plan on using separate containers for data you want to be publicly available.</span></span>

> [!CAUTION]
> <span data-ttu-id="118d6-124">Obiekty blob znajdujące się w kontenerze skonfigurowanym na potrzeby dostępu publicznego można pobierać bez żadnego uwierzytelniania czy inspekcji, znając jedynie ich adres URL przechowywania.</span><span class="sxs-lookup"><span data-stu-id="118d6-124">Blobs in a container configured for public access can be downloaded without any kind of authentication or auditing by anyone who knows their storage URLs.</span></span> <span data-ttu-id="118d6-125">Nigdy nie umieszczaj w kontenerze publicznym danych obiektów blob, których nie chcesz udostępniać publicznie.</span><span class="sxs-lookup"><span data-stu-id="118d6-125">Never put blob data in a public container that you don't intend to share publicly.</span></span>

<span data-ttu-id="118d6-126">Oprócz dostępu publicznego platforma Azure oferuje funkcję sygnatury dostępu współdzielonego, która umożliwia szczegółową kontrolę uprawnień do kontenerów.</span><span class="sxs-lookup"><span data-stu-id="118d6-126">In addition to public access, Azure has a shared access signature feature that allows fine-grained permissions control on containers.</span></span> <span data-ttu-id="118d6-127">Precyzyjna kontrola dostępu umożliwia scenariusze, które dodatkowo poprawiają skalowalność, więc traktowanie kontenerów jako granic zabezpieczeń jest ogólnie rzecz biorąc pomocną wskazówką.</span><span class="sxs-lookup"><span data-stu-id="118d6-127">Precision access control enables scenarios that further improve scalability, so thinking about containers as security boundaries in general is a helpful guideline.</span></span>

### <a name="blob-name-prefixes-virtual-directories"></a><span data-ttu-id="118d6-128">Prefiksy nazw obiektów blob (katalogi wirtualne)</span><span class="sxs-lookup"><span data-stu-id="118d6-128">Blob name prefixes (virtual directories)</span></span>

<span data-ttu-id="118d6-129">Technicznie rzecz biorąc, kontenery są „płaskie” i nie obsługują żadnego rodzaju zagnieżdżania ani hierarchii.</span><span class="sxs-lookup"><span data-stu-id="118d6-129">Technically, containers are "flat" and do not support any kind of nesting or hierarchy.</span></span> <span data-ttu-id="118d6-130">Jeśli jednak nadasz obiektom blob nazwy hierarchiczne, które wyglądają jak ścieżki do plików (na przykład `finance/budgets/2017/q1.xls`), operacja tworzenia listy interfejsu API może filtrować wyniki pod kątem określonych prefiksów.</span><span class="sxs-lookup"><span data-stu-id="118d6-130">But if you give your blobs hierarchical names that look like file paths (such as `finance/budgets/2017/q1.xls`), the API's listing operation can filter results to specific prefixes.</span></span> <span data-ttu-id="118d6-131">Umożliwia to nawigowanie po liście w taki sposób, jakby była hierarchicznym systemem plików i folderów.</span><span class="sxs-lookup"><span data-stu-id="118d6-131">This allows you to navigate the list as if it was a hierarchical system of files and folders.</span></span>

<span data-ttu-id="118d6-132">Ta funkcja jest często określana mianem *katalogów wirtualnych*, ponieważ niektóre narzędzia i biblioteki klienckie używają jej, aby wizualizować magazyn obiektów blob i umożliwiać nawigowanie po nim, jakby był on systemem plików.</span><span class="sxs-lookup"><span data-stu-id="118d6-132">This feature is often called *virtual directories* because some tools and client libraries use it to visualize and navigate Blob storage as if it was a file system.</span></span> <span data-ttu-id="118d6-133">Każda nawigacja po folderach wyzwala oddzielne wywołanie w celu wyświetlenia listy obiektów blob w tym folderze.</span><span class="sxs-lookup"><span data-stu-id="118d6-133">Each folder navigation triggers a separate call to list the blobs in that folder.</span></span>

<span data-ttu-id="118d6-134">**Obraz TODO eksploratora magazynu i/lub portalu z folderami**</span><span class="sxs-lookup"><span data-stu-id="118d6-134">**TODO image of storage explorer and/or portal w/folders**</span></span>

<span data-ttu-id="118d6-135">Używanie dla obiektów blob nazw, które wyglądają jak nazwy plików, jest często stosowaną techniką organizowania złożonych danych obiektów blob i nawigowania po nich.</span><span class="sxs-lookup"><span data-stu-id="118d6-135">Using names that are like file names for blobs is a common technique for organizing and navigating complex blob data.</span></span>

### <a name="blob-types"></a><span data-ttu-id="118d6-136">Typy obiektów blob</span><span class="sxs-lookup"><span data-stu-id="118d6-136">Blob types</span></span>

<span data-ttu-id="118d6-137">Istnieją trzy różne rodzaje obiektów blob, w których można przechowywać dane:</span><span class="sxs-lookup"><span data-stu-id="118d6-137">There are three different kinds of blobs you can store data in:</span></span>

- <span data-ttu-id="118d6-138">**Blokowe obiekty blob** składają się z bloków o różnych rozmiarach, które można przekazywać i pobierać niezależnie oraz równolegle.</span><span class="sxs-lookup"><span data-stu-id="118d6-138">**Block blobs** are composed of blocks of different sizes that can be uploaded and downloaded independently and in parallel.</span></span> <span data-ttu-id="118d6-139">Zapisywanie do blokowego obiektu blob obejmuje przekazywanie danych do bloków i zatwierdzanie ich w obiektach blob &mdash; biblioteki klienckie zajmą się tym za Ciebie.</span><span class="sxs-lookup"><span data-stu-id="118d6-139">Writing to a block blob involves uploading data to blocks and committing them to the blob &mdash; client libraries will handle this for you.</span></span>
- <span data-ttu-id="118d6-140">**Obiekty blob dołączania** to wyspecjalizowane blokowe obiekty blob, które obsługują tylko dołączanie nowych danych (a nie aktualizowanie i usuwanie istniejących danych), są one w tym jednak bardzo wydajne.</span><span class="sxs-lookup"><span data-stu-id="118d6-140">**Append blobs** are specialized block blobs that support only appending new data (not updating or deleting existing data), but they're very efficient at it.</span></span> <span data-ttu-id="118d6-141">Obiekty blob dołączania idealnie sprawdzają się w scenariuszach przechowywania dzienników i strumieniowego przesyłania danych.</span><span class="sxs-lookup"><span data-stu-id="118d6-141">Append blobs are great for scenarios like storing logs or streaming data.</span></span>
- <span data-ttu-id="118d6-142">**Stronicowe obiekty blob** są przeznaczone dla scenariuszy obejmujących odczyty i zapisy dostępu losowego.</span><span class="sxs-lookup"><span data-stu-id="118d6-142">**Page blobs** are designed for scenarios that involve random-access reads and writes.</span></span> <span data-ttu-id="118d6-143">Stronicowe obiekty blob są stosowane do przechowywania plików wirtualnego dysku twardego (VHD), które są używane przez usługę Azure Virtual Machines, ale doskonale nadają się one do wszelkich scenariuszy z dostępem losowym.</span><span class="sxs-lookup"><span data-stu-id="118d6-143">Page blobs are used to store the virtual hard disk (VHD) files used by Azure Virtual Machines, but they're great for any scenario that involves random access.</span></span>

<span data-ttu-id="118d6-144">Blokowe obiekty blob są najlepszym rozwiązaniem dla większości scenariuszy, które nie wymagają zastosowania obiektów blob dołączania ani obiektów stronicowych.</span><span class="sxs-lookup"><span data-stu-id="118d6-144">Block blobs are the best choice for most scenarios that don't specifically call for append or page blobs.</span></span>